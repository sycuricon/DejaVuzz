# Experiment E6

Experiment E6 is used to verify the effect of the different secret pair when a false negative occurs.

## Setup

1. set up the experiment environment following the README in root directory

2. export `DEJAVUZZ` shell variant to directory of toolchian

```sh
    export DEJAVUZZ=/path/to/toolchain
```

You can construct your toolchain by the steps in root directory's README.

3. download dataset to exp6-diff/cell_dataset path.

```
TODO:
```

4. create soft link to `exp1-case/BOOM`

```
ln -s ../exp1-case/BOOM BOOM
```


5. compile the DejaVuzz framework before executing.

```
make -C BOOM vcs
```

## Directory Hierarchy of Dataset

See the README in exp4-cell

## Execute experiment

1. execute `python cell_replace_execute.py` to change the `FILE_PATH` in cell_dataset's `swap_mem.cfg`.

2. execute `python diff_execute.py` to execute the testcases in `cell_dataset`. The executing result will be recored in `diff_result_xx-xx-xx-xx-xx-xx` folder, the `xx-xx-xx-xx-xx-xx` is the start execution time of `python diff_execute.py`. The diff is the results generated by DejaVuzz executing with different secret in dut and variant. The no_diff is the results generated by DejaVuzz executing with then same secret in both dut and variant.  

diff_result_2025-02-14-01-38-55
├── diff
└── no_diff

3. compare with the taint summary in `*.csv` and encode components in `*.live` file between diff and no_diff, we can find the taint summary and encoded components of diff is more than no_diff. So the different secret pair can filter some false negative occurs.


